- [数学](#数学)
  - [2019牛客暑期多校训练营（第九场）A.The power of Fibonacci(2022-10-7)](#2019牛客暑期多校训练营第九场athe-power-of-fibonacci2022-10-7)
    - [题意：](#题意)
    - [知识点：](#知识点)
    - [核心思想：](#核心思想)
    - [实现](#实现)
  - [ABC 235 G - Gardens](#abc-235-g---gardens)
    - [题意：](#题意-1)
    - [知识点：](#知识点-1)
    - [核心思想：](#核心思想-1)
    - [实现](#实现-1)
  - [ABC 230 G - GCD Permutation](#abc-230-g---gcd-permutation)
    - [题意：](#题意-2)
    - [知识点：](#知识点-2)
    - [核心思想：](#核心思想-2)
    - [实现](#实现-2)
  - [ABC 218 G - Game on Tree 2](#abc-218-g---game-on-tree-2)
    - [题意：](#题意-3)
    - [知识点：](#知识点-3)
    - [核心思想：](#核心思想-3)
    - [实现](#实现-3)
  - [ABC 218 H - Red and Blue Lamps](#abc-218-h---red-and-blue-lamps)
    - [题意：](#题意-4)
    - [知识点：](#知识点-4)
    - [核心思想：](#核心思想-4)
    - [实现](#实现-4)
  - [ABC 212 G - Power Pair](#abc-212-g---power-pair)
    - [题意：](#题意-5)
    - [知识点：](#知识点-5)
    - [核心思想：](#核心思想-5)
    - [实现](#实现-5)
  - [洛谷数学2-1进阶数论 回首过去](#洛谷数学2-1进阶数论-回首过去)
    - [转化题意：](#转化题意)
    - [知识点：](#知识点-6)
    - [核心思想：](#核心思想-6)
    - [实现](#实现-6)
  - [小白月赛72 F.排座位](#小白月赛72-f排座位)
    - [题意：](#题意-6)
    - [知识点：](#知识点-7)
    - [核心思想：](#核心思想-7)
    - [实现](#实现-7)
- [几何](#几何)
  - [EC - Final 2015  J - Dome and Steles](#ec---final-2015--j---dome-and-steles)
    - [题意：](#题意-7)
    - [知识点：](#知识点-8)
    - [思路：](#思路)
    - [实现](#实现-8)
  - [EC - Final 2020  J - Circle ](#ec---final-2020--j---circle-)
    - [题意：](#题意-8)
    - [知识点：](#知识点-9)
    - [思路：](#思路-1)
    - [实现](#实现-9)
  - [EC - Final 2021  D - Two Walls](#ec---final-2021--d---two-walls)
    - [题意：](#题意-9)
    - [知识点：](#知识点-10)
    - [思路：](#思路-2)
    - [实现](#实现-10)
  - [EC - Final 2022  E - Map](#ec---final-2022--e---map)
    - [题意：](#题意-10)
    - [知识点：](#知识点-11)
    - [思路：](#思路-3)
    - [实现](#实现-11)
  - [2022ICPC 南京站](#2022icpc-南京站)
    - [题意：](#题意-11)
    - [知识点：](#知识点-12)
    - [思路：](#思路-4)
    - [实现](#实现-12)
  - [2023航电多校第一场 1004.Amazing spacecraft](#2023航电多校第一场-1004amazing-spacecraft)
    - [题意：](#题意-12)
    - [知识点：](#知识点-13)
    - [思路：](#思路-5)
    - [实现](#实现-13)
  - [2023航电多校第二场 1006.Fencing the cows](#2023航电多校第二场-1006fencing-the-cows)
    - [题意：](#题意-13)
    - [知识点：](#知识点-14)
    - [思路：](#思路-6)
    - [实现](#实现-14)
  - [HNCPC2014 A.点到圆弧的距离](#hncpc2014-a点到圆弧的距离)
    - [题意：](#题意-14)
    - [知识点：](#知识点-15)
    - [思路：](#思路-7)
    - [实现](#实现-15)
  - [HNCPC2021 Circle Intersection](#hncpc2021-circle-intersection)
    - [题意：](#题意-15)
    - [知识点：](#知识点-16)
    - [思路：](#思路-8)
    - [实现](#实现-16)
  - [HNCPC2022 B.Complex Maze](#hncpc2022-bcomplex-maze)
    - [题意：](#题意-16)
    - [知识点：](#知识点-17)
    - [思路：](#思路-9)
    - [实现](#实现-17)
  - [ABC220 G - Isosceles Trapezium](#abc220-g---isosceles-trapezium)
    - [题意：](#题意-17)
    - [知识点：](#知识点-18)
    - [思路：](#思路-10)
    - [实现](#实现-18)
  - [ABC286 Ex - Don't Swim](#abc286-ex---dont-swim)
    - [题意：](#题意-18)
    - [知识点：](#知识点-19)
    - [思路：](#思路-11)
    - [实现](#实现-19)
  - [ABC 296 G - Polygon and Points](#abc-296-g---polygon-and-points)
    - [题意：](#题意-19)
    - [知识点：](#知识点-20)
    - [思路：](#思路-12)
    - [实现](#实现-20)
  - [ABC 314 Ex - Disk and Segments](#abc-314-ex---disk-and-segments)
    - [题意：](#题意-20)
    - [知识点：](#知识点-21)
    - [思路1：](#思路1)
    - [思路2：](#思路2)
    - [实现](#实现-21)
- [其他](#其他)
  - [2023牛客暑期多校训练营1  H.Matches](#2023牛客暑期多校训练营1--hmatches)
    - [题意：](#题意-21)
    - [知识点：](#知识点-22)
    - [思路：](#思路-13)
    - [实现](#实现-22)
  - [CF - 1741  F - Multi-Colored Segments](#cf---1741--f---multi-colored-segments)
    - [题意：](#题意-22)
    - [知识点：](#知识点-23)
    - [思路：](#思路-14)
    - [实现](#实现-23)


# 数学

## 2019牛客暑期多校训练营（第九场）[A.The power of Fibonacci(2022-10-7)](https://ac.nowcoder.com/acm/contest/41761/A)

### 题意：
$F_i$ : 斐波那契数列第 i 项，求$\sum_{i = 0}^n$ $F^m$ % $10^9$

### 知识点：
原根，循环节

### 核心思想： 
1.a $\equiv$ b (mod m), m1 | m, a $\equiv$ b (mod m1), 将$10^9$拆分成$2^9$和$5^9$ 

2.当模数较小时，斐波那契数列有循环节。预处理出模数为$2^9$时的循环节768和$5^9$时的循环节7812500，
同时$\sum_{i = 0}^n$ $F^m$的循环节是一样的。 

3.a = $\sum_{i = 0}^n$ $F^m$ % $2^9$, b = $\sum_{i = 0}^n$ $F^m$ % $5^9$ 

4.ans $\equiv$ a (mod $2^9$), ans $\equiv$ b (mod $5^9$),
可以解同余方程，也可以直接暴力找。

### 实现
> [评测记录](https://ac.nowcoder.com/acm/contest/view-submission?submissionId=62152048)





## [ABC 235 G - Gardens](https://atcoder.jp/contests/abc235/tasks/abc235_g)

### 题意：
n 个不同的盒子，三种不同颜色的球，每种颜色的球无法区分，求满足条件的方案数：
- 每个盒子都有球
- 每个盒子不能有两个以上相同的球
- 可以不放完所有球

### 知识点：
组合计数与容斥

### 核心思想： 
未更新

- [题解1.B站jls视频](https://www.bilibili.com/video/BV1Uq4y1y7L7/?vd_source=5f0224a495f7e8434abad3d80dfdc65c) 

- [题解2.知乎](https://zhuanlan.zhihu.com/p/463198659)

### 实现
> [评测记录](https://atcoder.jp/contests/abc235/submissions/43043784)





## [ABC 230 G - GCD Permutation](https://atcoder.jp/contests/abc230/tasks/abc230_g)

### 题意：
给定一个排列，求有多少对 (i, j) 满足 
- $1 \leq i \leq j \leq N$
- $GCD(i, j) \neq 1$
- $GCD(P_i, P_j) \neq 1$

### 知识点：
莫比乌斯函数

### 核心思想： 
未更新

- [题解B站wls视频](https://www.bilibili.com/video/BV1jS4y1X7XR/?vd_source=5f0224a495f7e8434abad3d80dfdc65c)

### 实现
> [评测记录](https://atcoder.jp/contests/abc230/submissions/43029757)





## [ABC 218 G - Game on Tree 2](https://atcoder.jp/contests/abc218/tasks/abc218_g)

### 题意：
给出一棵有 n 个结点的树，每个结点的权值为 $a_i$。

初始时结点 1 处有一枚棋子，A 先手，B 后手，每次可以将棋子从当前结点移至任一未访问过的相邻结点。

最终收益为所经结点权值 multiset 的中位数，A 想要将其最大化，B 想要将其最小化。问最终集合的中位数会是多少。

### 知识点：
dfs + 回溯 + dp + 两个set维护中位数

### 核心思想： 
未更新

- [题解](https://www.cnblogs.com/Kanoon/p/15262807.html#g---game-on-tree-2)

### 实现
> [评测记录](https://atcoder.jp/contests/abc218/submissions/43941927)





## [ABC 218 H - Red and Blue Lamps](https://atcoder.jp/contests/abc218/tasks/abc218_h)

### 题意：
给定 n 个灯泡，每个灯泡有$A_i$收益。r 个灯泡是红色，其余的是蓝色。

如果灯泡 i 和灯泡 i + 1颜色不一样就可以获得 $A_i$价值。求最大价值。

### 知识点：
- [1.反悔贪心](https://www.cnblogs.com/RioTian/p/14513549.html)
- [2.wqs 二分](https://zhuanlan.zhihu.com/p/340514421)

### 核心思想： 
未更新

- [题解](https://www.luogu.com.cn/problem/solution/AT_abc218_h)

### 实现
> [评测记录](https://atcoder.jp/contests/abc218/submissions/43949531)





## [ABC 212 G - Power Pair](https://atcoder.jp/contests/abc212/tasks/abc212_g)

### 题意：
P为质数，求满足条件的 (x, y) 的数量
- $0 \leq x \leq P - 1$
- $0 \leq y \leq P - 1$
- 存在一个正整数 n 满足 $x^n \equiv y (mod \ P)$  

### 知识点：
- [原根](https://zhuanlan.zhihu.com/p/166043237)

### 核心思想： 
转化为$\sum_{d|(P - 1)}dφ(d)$

- [题解1](https://blog.csdn.net/Cherrt/article/details/119291113)
- [题解2](https://atcoder.jp/contests/abc212/editorial/2373) 

### 实现
> [评测记录](https://atcoder.jp/contests/abc212/submissions/43725123)





## [洛谷数学2-1进阶数论 回首过去](https://www.luogu.com.cn/problem/P6583)

### 转化题意：
求出有序整数对(x, y)的个数，满足 1 $\leq$ x, y $\leq$ n 且 $\frac{x}{y}$ 可以表示为十进制有限小数。

### 知识点：
质数

### 核心思想：
1.合法的答案一定是约分后分母的质因数只有2，5。也就是说 $\frac{x}{y} = \frac{\frac{x}{(x, y)}} {2^p 5^q}$, 那么 y = (x, y) × $2^p5^q$,
 x = (x, y) × d。可以暴力枚举 y。
```cpp
for(int i = 1; i <= n; i ++)
{
   int j = i;
   while(j % 2 == 0)
      j /= 2;
   while(j % 5 == 0)
      j /= 5;
   ans += n / j;
}
```
2.考虑到$\sum_{i=1}^n \lfloor \frac{n}{μ(i)} \rfloor$, 其中μ(i)表示最大的不含质因子 2, 5 的 i 的因子。调换枚举顺序，枚举 μ(i)， 会有
$\sum_{k=1}^n \lfloor \frac{n}{k} \rfloor × \left[ 2 \nmid k\right] × \left[5 \nmid k \right] × count(\lfloor \frac{n}{k} \rfloor)$ 

### 实现
> [评测纪录](https://www.luogu.com.cn/record/109139968)





## [小白月赛72 F.排座位](https://ac.nowcoder.com/acm/contest/56825)

### 题意：
m 个椅子，n 个相同的人坐位置。求 n 个人坐到位置上产生的最大间隔的数学期望。

### 知识点：
容斥，组合，期望

### 核心思想： 
1.设 f(p) 为最大间隔为 p 的一个方案。

$\sum_{x = 1}^m$ x * P(f(p) = x) 

$\sum_{x = 1}^m P(f(p) \geq x)$

$\sum_{x = 1}^m 1 - P(f(p) < x)$

$\sum_{x = 1}^m \binom{m}{n} - cnt(f(p) < x)$

2.x 从 1 枚举到 m 求 f(p) < x 的方案数。$\sum_{i = 0}^{n + 1} {-1}^i \binom{n + 1}{i} \binom{m - x × i}{n}$

其中 $\binom{n + 1}{i}$ 表示有 i 个空格大于 x。

[题解](https://ac.nowcoder.com/discuss/1157945?type=101&order=0&pos=1&page=1&channel=-1&source_id=1)


### 实现
> [提交记录](https://ac.nowcoder.com/acm/contest/view-submission?submissionId=62257364) 










# 几何

## [EC - Final 2015  J - Dome and Steles](https://codeforces.com/gym/103957/problem/J)

### 题意：
给定一些长方体，宽度都为 1。求一个能够覆盖所有长方体的半圆的最小半径。

### 知识点：
几何基础，二分，贪心

### 思路：
- 首先答案满足二分性质，可以进行二分。
- 如何判断一个半径是否合法。设长方体中心坐标为res，则 $\sqrt{(res + 0.5)^2 + a^2 + (\frac{b}{2})^2} \leq R^2$ 或者 $\sqrt{(res + 0.5)^2 + b^2 + (\frac{a}{2})^2} \leq R^2$。显然选择 a 与 b 中的较小值去进行平方操作更优。
- 将问题变为一维问题，给定一个坐标轴，n 条线段，每条线段长度为 1。知道每条线段中点的合法范围为 [-res, res]。请问坐标轴能否放下 n 条线段。
- 贪心的思考，**每次放置 res 绝对值大的**。因为坐标轴和线段合法放置位置对称，**对称放置，右边放一个左边放一个循环放置**。显然这是最优的放置方法。
  
### 实现
> [评测记录](https://codeforces.com/gym/103957/submission/224552650)





## [EC - Final 2020  J - Circle ](https://codeforces.com/gym/103069/problem/J)

### 题意：
求 n 个圆的面积并集

### 知识点：


### 思路：
- 小数据暴力求圆的面积交集
- 大数据魔改半平面交

[题解1](https://www.zhihu.com/question/450271220/answer/1841779678)

[题解2](https://wjr-z.com/2020-ICPC-Asia-East-Continent-Final-J-Circle-%E9%A2%98%E8%A7%A3/)

前置题目：[牛客竞赛计算几何专题班圆 G	CIRU2](https://ac.nowcoder.com/acm/contest/40275/G)    
[题解1](https://blog.csdn.net/wty__/article/details/12835403)

[题解2](https://blog.csdn.net/bigbigship/article/details/41910013?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169435214916800213050750%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=169435214916800213050750&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-41910013-null-null.142^v93^insert_down28v1&utm_term=n%E4%B8%AA%E5%9C%86%E7%9A%84%E9%9D%A2%E7%A7%AF%E4%BA%A4&spm=1018.2226.3001.4187)
  
### 实现
> [评测记录](https://codeforces.com/gym/103069/my)

## [EC - Final 2021  D - Two Walls](https://codeforces.com/gym/103861/problem/D)

### 题意：
有两堵墙(两条线段)，给你起点和终点，问最少可以经过多少次转弯可以从起点到终点。不能经过线段，包括端点。

### 知识点：
基础几何

### 思路：
- 首先判断能否从起点直接到终点(起点到终点的线段是否与两线段相交)
- 判断两线段是否相交，不相交只需要一次。
- 剩下两线段组成 "X" 的情况。然后从起点和终点向四个边角点引出射线。判断射线是否相交。射线相交答案为 1。
  
[题解](https://www.cnblogs.com/kiddingma/p/16549320.html)
  
### 实现
> [评测记录](https://codeforces.com/gym/103861/submission/198033089)





## [EC - Final 2022  E - Map](https://qoj.ac/contest/1197)

### 题意：
给定一个 **大地图** 一个 **小地图**，互相映射。能够传送，每次传送需要花费 **k** 时间。求最多传送 **n** 次。从 **s** 到达 **t** 最小花费多少时间

### 知识点：
基础几何

### 思路：
- 可以证明，最优的路径⼀定是先从⼤到⼩传送若⼲次，然后移动，然后从⼩到⼤传送若⼲次。
- 如果在中间过程中移动，那么这段路径放到最后去移动⼀定更优。
- 问题可以看成 s 从⼤到⼩传送若⼲次到达 s'，t 从⼤到⼩传送若⼲次 t’，然后从 s' ⾛到 t' 即可。
- 因为次数限制很⼩，所以可以 $O(n^2)$ 枚举。
  
### 实现
> [评测记录](https://qoj.ac/submission/169012)





## [2022ICPC 南京站](https://codeforces.com/gym/104128/problem/M)

### 题意：
给定一个简单多边形，里面充满水，可以选择一些地方放置水龙头。求把水放完的最少水龙头数量。

### 知识点：
几何基础

### 思路：
- 每个局部最低点安装一个水阀门，因此本题球的就是局部最低点的数量。
- 局部最低点分为两种情况：在平台上和不在平台上。
  
### 实现
> [评测记录](https://codeforces.com/gym/104128/submission/224546204)





## [2023航电多校第一场 1004.Amazing spacecraft](https://acm.hdu.edu.cn/showproblem.php?pid=7278)

### 题意：
凸多边形 A 和 凸多边形 B 和一个圆 P，问你在 P 内随机选一个点 S，问当凸多边形沿着向量 $\vec{OS}$ 移动，得到凸多边形 A'，问 A' 与 B 相交的概率有多大。

### 知识点：
闵可夫斯基和，圆与凸多边形面积交，三角剖分

### 思路：
- 令 a $\in$ A, b $\in$ B，则向量 w 满足 a + w = b，因此 w = b - a。
- 构造闵可夫斯基和 C = { a + (−b) }。
- 求圆与凸多边形的面积交集。
  
### 实现
> [评测记录](https://acm.hdu.edu.cn/viewcode.php?rid=38815380)





## [2023航电多校第二场 1006.Fencing the cows](http://acm.hdu.edu.cn/showproblem.php?pid=7292)

### 题意：
给定 n 个点和 m 个点，从 n 个点中选择尽可能少的点包围所有 m 个点。

### 知识点：
凸包，floyed 求最小环

### 思路：
- 最后的答案一定是凸包包围了所有 m 个点，所以所有的点一定处于凸包的同一侧。
- 建边：所有 n 个点两两组成边，如果 m 个点位于同一侧，那么这条边将被判为合法边。
- 对所有合法边使用 floyed 做一次最小环。
- 但是如果只是判断是否同侧，可能会出现圈出一个没有包围任何一个点的凸包，因此我们可以将边
记录成单向边，并且强制规定所有m个点需要在边的左侧，这样就可以避免这种情况。
  
### 实现
> [评测记录](http://acm.hdu.edu.cn/viewcode.php?rid=38819589)





## [HNCPC2014 A.点到圆弧的距离](https://cpc.csgrandeur.cn/csgoj/problemset/problem?pid=1123)

### 题意：
求定点到圆弧的距离

### 知识点：
基础几何

### 思路：
未更新
  
### 实现
> [评测记录](https://cpc.csgrandeur.cn/csgoj/status?problem_id=1123&result=4#user_id=March_April)





## [HNCPC2021 Circle Intersection](https://cpc.csgrandeur.cn/csgoj/problemset/problem?pid=1164)

### 题意：
在三维平面求两个圆交线的长度

### 知识点：
基础几何

### 思路：
未更新
  
[题解1](https://www.acwing.com/solution/content/111410/)

[题解2](https://www.acwing.com/solution/content/127553/)
  
### 实现
> [评测记录](https://cpc.csgrandeur.cn/csgoj/status?problem_id=1164&result=4&user_id=March_April)





## [HNCPC2022 B.Complex Maze](https://cpc.csgrandeur.cn/csgoj/problemset/problem?pid=1190)

### 题意：
求两点不经过简单多边形的最短距离

### 知识点：
基础几何

### 思路：
- 建图跑最短路
  
### 实现
> [评测记录](https://cpc.csgrandeur.cn/csgoj/status?problem_id=1190&result=4&user_id=March_April)





## [ABC220 G - Isosceles Trapezium](https://atcoder.jp/contests/abc220/tasks/abc220_g)

### 题意：
给定二维平面 n 个有权值的点，求构成等腰梯形权值和最大的是多少。点的数量为 $10^3$。

### 知识点：
基础几何

### 思路：
- 等腰梯形，两条底线的中垂线相同，因此可以枚举这条中垂线。
- $n^2$的枚举出每一条线的中垂线，使用整数进行存储。
- 枚举中垂线更新答案。
  
[题解](https://www.cnblogs.com/gcfer/p/15344079.html)
  
### 实现
> [评测记录](https://atcoder.jp/contests/abc220/submissions/45446183)





## [ABC286 Ex - Don't Swim](https://atcoder.jp/contests/abc286/tasks/abc286_g)

### 题意：
二维平面，给定一个凸多边形，求从 s 到 t 不经过凸多边形的最短距离。

### 知识点：
凸包

### 思路：
- 所有点求一次凸包，如果 s 和 t 都在凸包上面，那么答案一定是沿着凸包的边走，否则就是直接从 s 到 t。
  
### 实现
> [评测记录](https://atcoder.jp/contests/abc286/submissions/38368160)





## [ABC 296 G - Polygon and Points](https://atcoder.jp/contests/abc296/tasks/abc296_g)

### 题意：
求一个点与凸多边形的关系。

### 知识点：
二分

### 思路：
- 根据二分来做。首先判断这个点在第一条线段和最后一条线段外面。
- 二分查找然后 to_left 测试输出答案
  
### 实现
> [评测记录](https://atcoder.jp/contests/abc296/submissions/40308320)





## [ABC 314 Ex - Disk and Segments](https://atcoder.jp/contests/abc314/tasks/abc314_h)

### 题意：
给定 n 条线段，选择一个能够覆盖所有线段 (**包括相切**) 的圆的最小半径。

### 知识点：
三分，模拟退火

### 思路1：
- x 坐标与 y 坐标分别进行三分，寻找最小圆的圆心

### 思路2：
- 由于只有 100 条线段，可以进行模拟退火。

  
### 实现
> [评测记录1](https://atcoder.jp/contests/abc314/submissions/44613874)
>
> [评测记录2](https://atcoder.jp/contests/abc314/submissions/44612447)












# 其他

## [2023牛客暑期多校训练营1  H.Matches](https://ac.nowcoder.com/acm/contest/57355/H)

### 题意：
给定两个数组，可以交换一次一个数组中的两个数，求交换后两者差的绝对值的最小值

### 知识点：


### 思路：
待更新
  
[题解](https://www.luogu.com.cn/problem/solution/CF1513F	henryhu2006)
  
### 实现
> [评测记录](https://ac.nowcoder.com/acm/contest/view-submission?submissionId=62828493)





## [CF - 1741  F - Multi-Colored Segments](https://codeforces.com/contest/1741)

### 题意：
给定 **n** 条线段，每条线段有三个参数 $l_i, r_i, c_i$。分别表示左右端点和颜色。输出每一条线段到其他线段的最近距离。

最近距离表示为：

到与自己不同颜色的线段的最近距离。相交的线段距离为 0。

### 知识点：
离散化，线段树上二分

### 思路：
- 维护线段树，相同颜色的线段一起求出答案。
- 删除每条线段的影响。然后判断是否有相交线段，然后经典问题：找最近的靠近端点的非零的位置。线段树上二分
- 还原线段树。
  
### 实现
[评测记录](https://codeforces.com/contest/1741)






